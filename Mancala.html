<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mancala</title>
    <style>
        body{
           /* background-image:url("bamboo(1).jpg"); */
            background-color: rgba(155, 177, 238, 0.795); 
        }
        .rect{
            stroke: none;
        }
        .bamboo{
            padding:5px;
            background-color: rgb(223, 200, 153);
        }
        .holes{
            position: absolute; width: 12.5%;background-color: rgb(197, 158, 107); padding:0px;
        }
        .stoneButton{
            position:absolute;
            top:0px;
            border:none;
            background-color: rgb(117, 111, 102);
        }
        .StoneHoles{
            top:25%;
            left:20%;
            text-align: center;
        }
        #HiddenBamboo{
            width: 90%;
            padding-bottom:10px;
            position: absolute;
        }
        #burlyWoodMessage{
            background-color: burlywood;
            padding:5px;
            display:none;
            margin:10px;
        }
        #displaybackground {
            display: none; 
            position: fixed; 
            left: 0;
            top: 0;
            padding-top: 30px;
            width: 100%;
            height: 100%; 
            background-color: rgba(0,0,0,0.4);
        }
        #popupIntroductions{
            display: none;
            width: 12000px;
        }
        #ButtonContinue{
            display: none;
            margin: 10px;
        }
        #head{
            width:40%; 
            height:50%;
            margin-left: 30%;
            background-color: rgb(255, 223, 175);
            position: fixed; 
            bottom:25%;
            display: none;
        }
        @keyframes displaymodual{0%{background-color: rgb(0, 0, 0, 0.01);}
            100%{background-color: rgb(0, 0, 0, 0.4);}}
        @keyframes displayhiddenbamboo{
            0%{background-color: rgba(222, 184, 135, 0);color:rgb(0, 0, 0, 0.01);}
            100%{background-color: burlywood;color: rgb(0, 0, 0, 1);}
        }
        @keyframes Popup{
            0%{bottom:-500px}
            100%{bottom:0px}
        }
        @keyframes MasterEmmett{
            0%{bottom:-100%;}
            100%{bottom:25%;}
        }
        @keyframes MancalaBoard{
            0%{bottom:-100%};
            100%{bottom:0px};
        }
        @keyframes Hat{
            0%{bottom:-33%;}
            100%{bottom:70%;}
        }
        /*backwards @keyframes*/
        @keyframes PopupB{
            0%{bottom:0px;}
            100%{bottom:-500px;}
        }
        @keyframes displayhiddenbambooB{
            0%{background-color: burlywood;color: rgb(0, 0, 0, 1);}
            100%{background-color: rgba(222, 184, 135, 0);color:rgb(0, 0, 0, 0.01)}
        }
        @keyframes displaymodualB{0%{background-color: rgb(0, 0, 0, 0.01);}
            100%{background-color: rgb(0, 0, 0, 0.4);}}
    </style>
</head>
<body onresize="Resize();">
    <div id="backgrounds" style="bottom:0">
        <div id="mountainsOne" style="position: fixed; bottom:0">
            <svg width="600" height="200" id="mountainsSvgTwo">
                <polygon points="150,0 0,200 300,200" style="fill:rgb(200, 223, 155)"></polygon>
                <polygon points="50,45 100,50 150,50 250,200 0,200" style="fill:yellowgreen;"></polygon>
                <polygon points="500,0 300,200 600,200" style="fill:yellowgreen"></polygon>
            </svg>
        </div>
        <div id="mountainsTwo"  style="left:700px; bottom:0;position: fixed;">
            <svg width="600" height="200" id="mountainsSvgThree">
                <polygon points="150,0 0,200 300,200" style="fill:rgb(200, 223, 155)"></polygon>
                <polygon points="450,50 300,200 600,200" style="fill:rgb(207, 231, 159)"></polygon>
                <polygon points="200,35 50,200 300,200" stroke="fill:rgb(200, 223, 155)" style="fill:yellowgreen;"></polygon>
                <polygon points="450,40 300,200 600,200" style="fill:yellowgreen"></polygon>
            </svg>
        </div>
        <div id="mountainsThree"  style="left:1000px; bottom:0;position: fixed;">
            <svg width="600" height="200" id="mountainsSvgFour">
                <polygon points="150,0 0,200 300,200" style="fill:yellowgreen;"></polygon>
                <polygon points="300,50 200,200 600,200" style="fill:rgb(207, 231, 159)"></polygon>
                <polygon points="450,0 300,200 600,200" style="fill:rgb(163, 196, 99)"></polygon>
            </svg>
        </div>
        <div id="bambooBackgroundBehind">
            <!--Items will go here-->
        </div>
        <div id="bambooBackground">
            <!--Items will go here-->
        </div>
    </div>
    <div id="displaybackground">
        <div id="modualAlerts">
            <div id="HiddenBamboo">
                <h1 id="burlyWoodMessage">
                    Welcome to the hidden bamboo forests sanctuary, located  among the pandas in the midst of southern China. 
                    <br>
                    The village invites you for a match of the ancient game of mancala with the village's own wise and old mancala legendary master, <i>Master Emmett</i> </h1>
                <button id="ButtonContinue" onclick="Continue()"><h1>Continue</h1></button>
            </div>
        </div>    
    </div>
    <div id="popupIntroductions" style="bottom:0px; position:fixed; display: none;">
        <div id="mountainIntroduction" style="position: absolute; bottom:0px;">
        <!--<svg width="600" height="200">
                <polygon points="150,0 0,200 300,200" style="fill:rgb(200, 223, 155)"></polygon>
                <polygon points="50,45 100,50 150,50 250,200 0,200" style="fill:yellowgreen;"></polygon>
                <polygon points="500,0 300,200 600,200" style="fill:yellowgreen"></polygon>
            </svg>-->
        </div>
        <div id="bambooIntroduction" style="position: absolute; bottom: 0px;">
            <!--<svg height="300" width="57">
                <rect height="400" width="51" style="fill:rgb(182, 236, 112)"></rect>
            </svg>
            <svg height="310" width="54">
                <rect height="400" width="39" style="fill:rgb(183, 207, 93)"></rect>
            </svg>
            <svg height="285" width="58">
                <rect height="400" width="40" style="fill:rgb(179, 216, 132)"></rect>
            </svg>
            <svg height="314" width="57">
                <rect height="400" width="45" style="fill:rgb(191, 233, 135)"></rect>
            </svg>
            <svg height="304" width="59">
                <rect height="400" width="46" style="fill:rgb(195, 207, 124)"></rect>
            </svg>
            <svg height="300" width="54">
                <rect height="400" width="40" style="fill:rgb(176, 231, 114)"></rect>
            </svg>
            <svg height="305" width="58">
                <rect height="400" width="41" style="fill:rgb(219, 224, 150)"></rect>
            </svg>
            <svg height="308" width="57">
                <rect height="400" width="47" style="fill:rgb(190, 240, 124)"></rect>
            </svg>
            <svg height="314" width="57">
                <rect height="400" width="45" style="fill:rgb(191, 233, 135)"></rect>
            </svg>-->
        </div>
        <div id="pandas" style="bottom:0px; position: absolute;  left:10px">
            <!--Will show up with animations-->
            <!--panda one-->
            <svg class="pandasSvg" height="200" width="50"><!--The first black leg-->
                <rect style="fill:rgb(34, 34, 34)" height="200" width="100"></rect>
            </svg><!--The white body--><svg class="pandasSvg" height="200" width="150">
                <rect style="fill:floralwhite;" height="150" width="150"></rect>
            </svg><!--Black leg two--><svg class="pandasSvg" height="200" width="50">    
                <rect style="fill:rgb(34, 34, 34)" height="200" width="50"></rect>
            </svg><!--The head--><svg class="pandasSvg" height="200" width="150">    
                <rect style="fill:floralwhite" height="150" width="150"></rect>
            </svg>
        </div>
        <div id="pandaTwo" style="bottom:100px; position: absolute;  left:400px; transform: rotate(270deg);">
            <!--Will show up with animations-->
            <!--panda one-->
            <svg class="pandasSvg" height="200" width="50"><!--The first black leg-->
                <rect style="fill:rgb(34, 34, 34)" height="200" width="100"></rect>
            </svg><!--The white body--><svg class="pandasSvg" height="200" width="150">
                <rect style="fill:floralwhite;" height="150" width="150"></rect>
            </svg><!--Black leg two--><svg class="pandasSvg" height="200" width="50">    
                <rect style="fill:rgb(34, 34, 34)" height="200" width="50"></rect>
            </svg><!--The head--><svg class="pandasSvg" height="200" width="150">    
                <rect style="fill:floralwhite" height="150" width="150"></rect>
            </svg>
        </div>
    </div>
    <div id="MasterEmmett" style="bottom:0;position: fixed;">
        <div id="head">
            <div style="height: 1%; padding-top:1px; width:3%; position: absolute; background-color: black; left:12%; top:30%;">
            </div>
            <div style="height: 1%; padding-top:1px; width:3%; position: absolute; background-color: black; left:85%; top:30%;">
            </div>
            <div style="height: 1%; padding-top:1px; width:6%; position: absolute; background-color: black; left:47%; bottom:15%">
            </div>
        </div>
        <div id="coneHat" style="position: fixed; margin-left: 25%; bottom:70%;display: none;">
            <!--hat must be resized to fit-->
        </div>
    </div>
    <div id="mancalaBoard" style="background-color:burlywood; height: 25%; width:80%; margin-left: 10%; bottom: 5px; position: fixed; display: none;">
        <div class="holes" style="border-radius: 50%;height:100%; left:0px">
            <h1 id="PointsHoleMaster">Master Emmett's stones</h1>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 12.5%; height: 50%;">
            <h1 id="Hole1" class="StoneHoles"></h1>
            <button class="stoneButton" id="button1" onclick="holeNumber=0;Play();">pick stones...</button>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 25%; height: 50%;">
            <h1 id="Hole2" class="StoneHoles"></h1>
            <button class="stoneButton" id="button2" onclick="holeNumber=1;Play();">pick stones...</button>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 37.5%; height: 50%;">
            <h1 id="Hole3" class="StoneHoles"></h1>
            <button class="stoneButton" id="button3" onclick="holeNumber=2;Play();">pick stones...</button>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 50%; height: 50%;">
            <h1 id="Hole4" class="StoneHoles"></h1>
            <button class="stoneButton" id="button4" onclick="holeNumber=3;Play();">pick stones...</button>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left:62.5%; height: 50%;">
            <h1 id="Hole5" class="StoneHoles"></h1>
            <button class="stoneButton" id="button5" onclick="holeNumber=4;Play();">pick stones...</button>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 75%; height: 50%;">
            <h1 id="Hole6" class="StoneHoles"></h1>
            <button class="stoneButton" id="button6" onclick="holeNumber=5;Play();">pick stones...</button>
        </div>
        <!--bottom holes (of Master Emmett)-->
        <div class="holes" style="border-radius: 50%; margin-left: 12.5%; height: 50%; bottom:0px;">
            <h1 id="Hole12" class="StoneHoles"></h1>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 25%; height: 50%;bottom:0px;">
            <h1 id="Hole11" class="StoneHoles"></h1>
        </div>
        <div class="holes"  style="border-radius: 50%; margin-left: 37.5%; height: 50%;bottom:0px;">
            <h1 id="Hole10" class="StoneHoles"></h1>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 50%; height: 50%;bottom:0px;">
            <h1 id="Hole9" class="StoneHoles"></h1>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left:62.5%; height: 50%;bottom:0px;">
            <h1 id="Hole8" class="StoneHoles"></h1>
        </div>
        <div class="holes" style="border-radius: 50%; margin-left: 75%; height: 50%;bottom:0px;">
            <h1 id="Hole7" class="StoneHoles"></h1>
        </div>
        <div class="holes"  style="border-radius: 50%;height: 100%; right:0px;">
            <h1 id="PointsHolePlayer">Your stones</h1>
        </div>
    </div>    
    <h1 id="hand" style="position: fixed;"></h1>
    <script>
        var Modual=document.getElementById("displaybackground");
        var HiddenBamboo=document.getElementById("burlyWoodMessage");
        var popup=document.getElementById("popupIntroductions");
        var coneHat=document.getElementById("coneHat");
        var Head=document.getElementById("head");
        var Board=document.getElementById("mancalaBoard");
        var b="block";
        var holeNumber=null;
        var StonesInHand;
        var PlayerStones=0;
        var MasterStones=0;
        var holeValues=[4,4,4,4,4,4,4,4,4,4,4,4];
        var counter=0;
        Resize();
        BambooCreate();
        function BambooCreate(){
            var w=0;
            var wTwo=0;
            var wThree=0;
            var i=0;
            while(i<100){
                var a=(window.innerHeight-Math.floor(Math.random()*50));
                var b=Math.floor(Math.random()*20+10);
                document.getElementById("bambooBackground").innerHTML+=
                "<div style='bottom:0px; position:fixed; left:"+(w+b)+
                "px'><svg height="+a+" width='35'><rect height='"+a+"' width='35' style='fill:rgb("+
                [Math.floor(Math.random()*10+173), Math.floor(Math.random()*10+175),Math.floor(Math.random()*10+105)]+")'></rect></svg></div>";
                w+=35+b;
                i++;
            };
            i=0;
            while(i<100){
                var a=(window.innerHeight-Math.floor(Math.random()*50));
                var b=Math.floor(Math.random()*20+10);
                document.getElementById("bambooBackground").innerHTML+=
                "<div style='bottom:0px; position:fixed; left:"+(wTwo+b)+
                "px'><svg height="+a+" width='50'><rect height='"+a+"' width='50' style='fill:rgb("+
                [Math.floor(Math.random()*10+163), Math.floor(Math.random()*10+195),Math.floor(Math.random()*10+100)]+")'></rect></svg></div>";
                wTwo+=50+b;
                i++;
            };
            for(a=0; a<6; a++){
                document.getElementById("bambooIntroduction").innerHTML+=
                '<svg height="300" width="57"><rect height="400" width="51" style="fill:rgb(182, 236, 112)"></rect></svg>'
                +'<svg height="310" width="54"><rect height="400" width="39" style="fill:rgb(183, 207, 93)"></rect></svg>'
                +'<svg height="285" width="58"><rect height="400" width="40" style="fill:rgb(179, 216, 132)"></rect></svg>'
                +'<svg height="314" width="57"><rect height="400" width="45" style="fill:rgb(191, 233, 135)"></rect></svg>'
                +'<svg height="304" width="59"><rect height="400" width="46" style="fill:rgb(195, 207, 124)"></rect></svg>';
                document.getElementById("mountainIntroduction").innerHTML+=
                '<svg width="600" height="200" id="mountainsSvgFour">'
                +'<polygon points="150,0 0,200 300,200" style="fill:yellowgreen;"></polygon>'
                +'<polygon points="300,50 200,200 600,200" style="fill:rgb(207, 231, 159)"></polygon>'
                +'<polygon points="450,0 300,200 600,200" style="fill:rgb(163, 196, 99)"></polygon></svg>';
            };
        };
        function Resize(){
            //sets the position + size of objects
            var height=window.innerHeight/3;
            var width=window.innerWidth/2;
            coneHat.innerHTML=
                "<svg height='"+height+"' width='"+width+"'>"
                +"<polygon style='fill:rgb(190, 160, 81)' points='"
                +[width/2,0]+" "+[width, height]+" "+[0, height]+"'></polygon>"
                +"</svg>";

        }
        var TimeInterval = setTimeout(Popups, 500);
        function Popups(){
            document.getElementById("ButtonContinue").style.display=b;
            popup.style.animationName="Popup";
            popup.style.animationDuration="2s";
            popup.style.display=b;
            HiddenBamboo.style.animationName="displayhiddenbamboo";
            HiddenBamboo.style.display=b;
            HiddenBamboo.style.animationDuration="2s";
            Modual.style.display=b;
            Modual.style.animationName="displaymodual";
            Modual.style.animationDuration="2s";
        };
        function Continue(){
            document.getElementById("ButtonContinue").style.display="none";
            popup.style.animationName="PopupB";
            popup.style.animationName="PopupB";
            popup.style.animationDuration="2s";
            HiddenBamboo.style.animationName="displayhiddenbambooB";
            HiddenBamboo.style.animationDuration="2s";
            Modual.style.animationName="displaymodualB";
            Modual.style.animationDuration="2s";
            var close=setTimeout(Close, 2000);
        }
        function Close(){
            Resize();
            popup.style.display="none";
            HiddenBamboo.style.display="none";
            coneHat.style.animationName="Hat";
            coneHat.style.animationDuration="4s";
            coneHat.style.display=b;
            Head.style.animationName="MasterEmmett";
            Head.style.animationDuration="4s";
            Head.style.display=b;
            Board.style.animationName="MancalaBoard";
            Board.style.display=b;
            Board.style.animationDuration="4s"
        }
        for(i=1;i<=12; i++){
            document.getElementById("Hole"+i).innerHTML=holeValues[i-1];
        };
        function Play(){
            document.getElementById("PointsHolePlayer").innerHTML=PlayerStones;
            if(counter==0){
                StonesInHand=holeValues[holeNumber];//set the stones in hand to the amount in the chosen hole
                holeValues[holeNumber]=0; //set hole to none as if player took all stones
            }
            if(counter<StonesInHand){
                holeValues[DownToOne(counter+holeNumber+1)]+=1//one stone gets dropped into counter until stones in hand run out
                for(i=1;i<=12; i++){
                    document.getElementById("Hole"+i).innerHTML=holeValues[i-1]; //set the stones every time
                };
                document.getElementById("hand").innerHTML=StonesInHand-counter;
                counter++;
                setTimeout(Play, 500);//allows time until next drop
                //does not continue
            }else{
                counter=0;
                NewHole=DownToOne(holeNumber+StonesInHand); //the new holeNumber (hole to be picked) is how far the stone went from original stone
                if(holeValues[NewHole]>1){//repeat if there are stones already in hole
                    holeNumber=NewHole; 
                    Play();
                };
                for(i=1;i<=12; i++){
                    document.getElementById("Hole"+i).innerHTML=holeValues[i-1];
                };
            }
        }
        function DownToOne(Player){
            if(Player==5){
                if(StonesInHand-counter>1){
                    PlayerStones++;
                    StonesInHand--;
                    return 5;
                }
            }
            if(Player>=12){
                return Player-12;
            }
            return Player;
        }
    </script>
</body>
</html>